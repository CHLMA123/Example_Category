<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>AFImageDownloader Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">Example_Category </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">mayer</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	
	<optgroup label="Properties">
		
		<option value="//api/name/downloadPrioritizaton">downloadPrioritizaton</option>
		
		<option value="//api/name/imageCache">imageCache</option>
		
		<option value="//api/name/sessionManager">sessionManager</option>
		
	</optgroup>
	

	
	<optgroup label="Class Methods">
		
		<option value="//api/name/defaultInstance">+ defaultInstance</option>
		
		<option value="//api/name/defaultURLCache">+ defaultURLCache</option>
		
	</optgroup>
	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/cancelTaskForImageDownloadReceipt:">- cancelTaskForImageDownloadReceipt:</option>
		
		<option value="//api/name/downloadImageForURLRequest:success:failure:">- downloadImageForURLRequest:success:failure:</option>
		
		<option value="//api/name/downloadImageForURLRequest:withReceiptID:success:failure:">- downloadImageForURLRequest:withReceiptID:success:failure:</option>
		
		<option value="//api/name/init">- init</option>
		
		<option value="//api/name/initWithSessionManager:downloadPrioritization:maximumActiveDownloads:imageCache:">- initWithSessionManager:downloadPrioritization:maximumActiveDownloads:imageCache:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">AFImageDownloader Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td>NSObject</td>
</tr><tr>
	<th>Declared in</th>
	<td>AFImageDownloader.h<br />AFImageDownloader.m</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The <code>AFImageDownloader</code> class is responsible for downloading images in parallel on a prioritized queue. Incoming downloads are added to the front or back of the queue depending on the download prioritization. Each downloaded image is cached in the underlying <code>NSURLCache</code> as well as the in-memory image cache. By default, any download request with a cached image equivalent in the image cache will automatically be served the cached image representation.</p>
					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/imageCache" title="imageCache"></a>
	<h3 class="method-title"><code><a href="#//api/name/imageCache">&nbsp;&nbsp;imageCache</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The image cache used to store all downloaded images in. <a href="../Classes/AFAutoPurgingImageCache.html"><code>AFAutoPurgingImageCache</code></a> by default.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong, nullable) id&lt;AFImageRequestCache&gt; imageCache</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The image cache used to store all downloaded images in. <a href="../Classes/AFAutoPurgingImageCache.html"><code>AFAutoPurgingImageCache</code></a> by default.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AFImageDownloader.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/sessionManager" title="sessionManager"></a>
	<h3 class="method-title"><code><a href="#//api/name/sessionManager">&nbsp;&nbsp;sessionManager</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The <a href="../Classes/AFHTTPSessionManager.html"><code>AFHTTPSessionManager</code></a> used to download images. By default, this is configured with an <a href="../Classes/AFImageResponseSerializer.html"><code>AFImageResponseSerializer</code></a>, and a shared <code>NSURLCache</code> for all image downloads.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) AFHTTPSessionManager *sessionManager</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The <a href="../Classes/AFHTTPSessionManager.html"><code>AFHTTPSessionManager</code></a> used to download images. By default, this is configured with an <a href="../Classes/AFImageResponseSerializer.html"><code>AFImageResponseSerializer</code></a>, and a shared <code>NSURLCache</code> for all image downloads.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AFImageDownloader.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/downloadPrioritizaton" title="downloadPrioritizaton"></a>
	<h3 class="method-title"><code><a href="#//api/name/downloadPrioritizaton">&nbsp;&nbsp;downloadPrioritizaton</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Defines the order prioritization of incoming download requests being inserted into the queue. <code>AFImageDownloadPrioritizationFIFO</code> by default.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) AFImageDownloadPrioritization downloadPrioritizaton</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Defines the order prioritization of incoming download requests being inserted into the queue. <code>AFImageDownloadPrioritizationFIFO</code> by default.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AFImageDownloader.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/defaultInstance" title="defaultInstance"></a>
	<h3 class="method-title"><code><a href="#//api/name/defaultInstance">+&nbsp;defaultInstance</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The shared default instance of <code>AFImageDownloader</code> initialized with default values.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>+ (instancetype)defaultInstance</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The shared default instance of <code>AFImageDownloader</code> initialized with default values.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AFImageDownloader.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/defaultURLCache" title="defaultURLCache"></a>
	<h3 class="method-title"><code><a href="#//api/name/defaultURLCache">+&nbsp;defaultURLCache</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Creates a default <code>NSURLCache</code> with common usage parameter values.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>+ (NSURLCache *)defaultURLCache</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>The default <code>NSURLCache</code> instance.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Creates a default <code>NSURLCache</code> with common usage parameter values.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AFImageDownloader.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/init" title="init"></a>
	<h3 class="method-title"><code><a href="#//api/name/init">&ndash;&nbsp;init</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Default initializer</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (instancetype)init</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>An instance of <code>AFImageDownloader</code> initialized with default values.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Default initializer</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AFImageDownloader.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/initWithSessionManager:downloadPrioritization:maximumActiveDownloads:imageCache:" title="initWithSessionManager:downloadPrioritization:maximumActiveDownloads:imageCache:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithSessionManager:downloadPrioritization:maximumActiveDownloads:imageCache:">&ndash;&nbsp;initWithSessionManager:downloadPrioritization:maximumActiveDownloads:imageCache:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Initializes the <code>AFImageDownloader</code> instance with the given session manager, download prioritization, maximum active download count and image cache.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (instancetype)initWithSessionManager:(AFHTTPSessionManager *)<em>sessionManager</em> downloadPrioritization:(AFImageDownloadPrioritization)<em>downloadPrioritization</em> maximumActiveDownloads:(NSInteger)<em>maximumActiveDownloads</em> imageCache:(nullable id&lt;AFImageRequestCache&gt;)<em>imageCache</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>sessionManager</code></th>
						<td><p>The session manager to use to download images.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>downloadPrioritization</code></th>
						<td><p>The download prioritization of the download queue.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>maximumActiveDownloads</code></th>
						<td><p>The maximum number of active downloads allowed at any given time. Recommend <code>4</code>.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>imageCache</code></th>
						<td><p>The image cache used to store all downloaded images in.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>The new <code>AFImageDownloader</code> instance.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Initializes the <code>AFImageDownloader</code> instance with the given session manager, download prioritization, maximum active download count and image cache.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AFImageDownloader.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/downloadImageForURLRequest:success:failure:" title="downloadImageForURLRequest:success:failure:"></a>
	<h3 class="method-title"><code><a href="#//api/name/downloadImageForURLRequest:success:failure:">&ndash;&nbsp;downloadImageForURLRequest:success:failure:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Creates a data task using the <a href="#//api/name/sessionManager"><code>sessionManager</code></a> instance for the specified URL request.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (nullable AFImageDownloadReceipt *)downloadImageForURLRequest:(NSURLRequest *)<em>request</em> success:(nullable void ( ^ ) ( NSURLRequest *request , NSHTTPURLResponse *_Nullable response , UIImage *responseObject ))<em>success</em> failure:(nullable void ( ^ ) ( NSURLRequest *request , NSHTTPURLResponse *_Nullable response , NSError *error ))<em>failure</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>request</code></th>
						<td><p>The URL request.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>success</code></th>
						<td><p>A block to be executed when the image data task finishes successfully. This block has no return value and takes three arguments: the request sent from the client, the response received from the server, and the image created from the response data of request. If the image was returned from cache, the response parameter will be <code>nil</code>.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>failure</code></th>
						<td><p>A block object to be executed when the image data task finishes unsuccessfully, or that finishes successfully. This block has no return value and takes three arguments: the request sent from the client, the response received from the server, and the error object describing the network or parsing error that occurred.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>The image download receipt for the data task if available. <code>nil</code> if the image is stored in the cache.
cache and the URL request cache policy allows the cache to be used.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Creates a data task using the <a href="#//api/name/sessionManager"><code>sessionManager</code></a> instance for the specified URL request.</p>

<p>If the same data task is already in the queue or currently being downloaded, the success and failure blocks are
appended to the already existing task. Once the task completes, all success or failure blocks attached to the
task are executed in the order they were added.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AFImageDownloader.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/downloadImageForURLRequest:withReceiptID:success:failure:" title="downloadImageForURLRequest:withReceiptID:success:failure:"></a>
	<h3 class="method-title"><code><a href="#//api/name/downloadImageForURLRequest:withReceiptID:success:failure:">&ndash;&nbsp;downloadImageForURLRequest:withReceiptID:success:failure:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Creates a data task using the <a href="#//api/name/sessionManager"><code>sessionManager</code></a> instance for the specified URL request.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (nullable AFImageDownloadReceipt *)downloadImageForURLRequest:(NSURLRequest *)<em>request</em> withReceiptID:(NSUUID *)<em>receiptID</em> success:(nullable void ( ^ ) ( NSURLRequest *request , NSHTTPURLResponse *_Nullable response , UIImage *responseObject ))<em>success</em> failure:(nullable void ( ^ ) ( NSURLRequest *request , NSHTTPURLResponse *_Nullable response , NSError *error ))<em>failure</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>request</code></th>
						<td><p>The URL request.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>receiptID</code></th>
						<td><p>The identifier to use for the download receipt that will be created for this request. This must be a unique identifier that does not represent any other request.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>success</code></th>
						<td><p>A block to be executed when the image data task finishes successfully. This block has no return value and takes three arguments: the request sent from the client, the response received from the server, and the image created from the response data of request. If the image was returned from cache, the response parameter will be <code>nil</code>.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>failure</code></th>
						<td><p>A block object to be executed when the image data task finishes unsuccessfully, or that finishes successfully. This block has no return value and takes three arguments: the request sent from the client, the response received from the server, and the error object describing the network or parsing error that occurred.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>The image download receipt for the data task if available. <code>nil</code> if the image is stored in the cache.
cache and the URL request cache policy allows the cache to be used.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Creates a data task using the <a href="#//api/name/sessionManager"><code>sessionManager</code></a> instance for the specified URL request.</p>

<p>If the same data task is already in the queue or currently being downloaded, the success and failure blocks are
appended to the already existing task. Once the task completes, all success or failure blocks attached to the
task are executed in the order they were added.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AFImageDownloader.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/cancelTaskForImageDownloadReceipt:" title="cancelTaskForImageDownloadReceipt:"></a>
	<h3 class="method-title"><code><a href="#//api/name/cancelTaskForImageDownloadReceipt:">&ndash;&nbsp;cancelTaskForImageDownloadReceipt:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Cancels the data task in the receipt by removing the corresponding success and failure blocks and cancelling the data task if necessary.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)cancelTaskForImageDownloadReceipt:(AFImageDownloadReceipt *)<em>imageDownloadReceipt</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>imageDownloadReceipt</code></th>
						<td><p>The image download receipt to cancel.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Cancels the data task in the receipt by removing the corresponding success and failure blocks and cancelling the data task if necessary.</p>

<p>If the data task is pending in the queue, it will be cancelled if no other success and failure blocks are registered with the data task. If the data task is currently executing or is already completed, the success and failure blocks are removed and will not be called when the task finishes.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AFImageDownloader.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2017 mayer. All rights reserved. Updated: 2017-01-07</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>